2024-11-05T11:14:28.865+07:00  INFO 48047 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Starting InvoiceProjectApplication using Java 22.0.1 with PID 48047 (/Users/pro/Documents/Workspace/invoiceProject/target/classes started by pro in /Users/pro/Documents/Workspace/invoiceProject)
2024-11-05T11:14:28.874+07:00  INFO 48047 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2024-11-05T11:14:29.673+07:00  INFO 48047 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-05T11:14:29.765+07:00  INFO 48047 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 14 JPA repository interfaces.
2024-11-05T11:14:30.500+07:00  INFO 48047 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-11-05T11:14:30.514+07:00  INFO 48047 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-05T11:14:30.514+07:00  INFO 48047 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-11-05T11:14:30.566+07:00  INFO 48047 --- [InvoiceManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-05T11:14:30.566+07:00  INFO 48047 --- [InvoiceManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1654 ms
2024-11-05T11:14:30.775+07:00  INFO 48047 --- [InvoiceManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-05T11:14:30.881+07:00  INFO 48047 --- [InvoiceManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-11-05T11:14:30.943+07:00  INFO 48047 --- [InvoiceManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-11-05T11:14:31.367+07:00  INFO 48047 --- [InvoiceManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-05T11:14:31.410+07:00  INFO 48047 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-05T11:14:31.880+07:00  INFO 48047 --- [InvoiceManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@63326a3a
2024-11-05T11:14:31.882+07:00  INFO 48047 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-05T11:14:33.150+07:00  INFO 48047 --- [InvoiceManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-05T11:14:33.317+07:00  INFO 48047 --- [InvoiceManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-05T11:14:33.590+07:00  INFO 48047 --- [InvoiceManagement] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-05T11:14:34.394+07:00  INFO 48047 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Initializing Application
2024-11-05T11:14:34.439+07:00  WARN 48047 --- [InvoiceManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-05T11:14:34.456+07:00 TRACE 48047 --- [InvoiceManagement] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.example.invoiceProject.Config.SecurityConfig$$SpringCGLIB$$0@334d96af}
2024-11-05T11:14:34.459+07:00 DEBUG 48047 --- [InvoiceManagement] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-11-05T11:14:34.582+07:00  INFO 48047 --- [InvoiceManagement] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-11-05T11:14:34.816+07:00 DEBUG 48047 --- [InvoiceManagement] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-11-05T11:14:35.136+07:00  INFO 48047 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-11-05T11:14:35.144+07:00  INFO 48047 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Started InvoiceProjectApplication in 6.762 seconds (process running for 7.209)
2024-11-05T11:14:35.323+07:00  INFO 48047 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Application initialization completed .....
2024-11-05T11:15:29.500+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-05T11:15:29.500+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-11-05T11:15:29.502+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-11-05T11:15:29.520+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:15:29.520+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:15:29.521+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:15:29.522+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:15:29.524+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:15:29.525+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:15:29.526+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:15:29.527+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:15:29.527+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:15:29.527+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:15:29.528+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:15:29.528+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:15:29.528+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:15:29.529+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:15:29.529+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:15:29.529+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:15:29.530+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:15:29.531+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:15:29.531+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:15:29.531+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:15:29.533+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012eae0220@1b078562
2024-11-05T11:15:29.534+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:15:29.793+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:34.748+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:34.748+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:16:34.748+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:34.748+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:34.748+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:34.748+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:34.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:16:34.750+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:16:34.750+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:34.750+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:34.750+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:16:34.750+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012eae0220@1b078562
2024-11-05T11:16:34.750+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:16:34.819+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:41.988+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:41.988+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:41.988+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:41.988+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:41.988+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:41.988+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:41.988+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:41.988+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:41.988+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:41.989+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:41.989+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:42.011+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:42.011+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:42.012+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:42.012+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:42.012+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:42.013+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:42.013+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:42.014+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:42.014+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:42.014+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:42.014+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:42.014+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:42.015+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:42.016+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:42.018+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:42.019+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:42.038+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:42.064+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:43.025+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:43.025+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:43.026+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:43.029+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:43.029+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:43.029+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:43.029+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:43.029+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:43.029+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:43.029+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:43.030+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:43.030+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:43.030+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:43.030+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:43.030+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:43.030+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:43.030+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:43.030+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:43.031+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:43.031+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:43.038+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:43.782+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:43.782+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:43.782+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:43.782+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:43.783+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:43.783+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:43.783+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:43.783+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:43.783+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:43.783+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:43.783+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:43.787+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:43.787+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:43.787+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:43.788+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:43.788+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:43.788+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:43.788+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:43.788+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:43.788+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:43.796+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:44.517+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:44.518+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:44.518+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:44.522+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:44.522+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:44.523+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:44.523+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:44.523+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:44.524+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:44.524+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:44.524+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:44.533+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:45.421+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:45.421+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:45.422+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:45.425+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:45.425+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:45.425+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:45.426+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:45.426+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:45.427+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:45.427+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:45.427+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:45.435+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:46.095+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:46.095+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:46.099+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:46.100+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:46.100+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:46.100+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:46.100+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:46.101+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:46.101+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:46.101+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:46.109+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:46.855+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:46.855+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:46.855+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:46.855+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:46.855+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:46.856+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:46.856+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:46.856+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:46.856+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:46.856+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:46.856+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:46.859+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:46.859+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:46.859+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:46.859+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:46.859+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:46.859+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:46.860+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:46.860+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:46.860+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:46.860+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:46.860+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:46.860+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:46.860+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:46.860+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:46.860+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:46.860+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:46.860+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:46.867+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:47.620+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:47.620+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:47.624+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:47.624+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:47.624+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:47.625+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:47.625+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:47.625+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:47.625+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:47.625+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:47.625+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:47.633+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:48.375+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:48.375+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:48.375+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:48.375+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:48.375+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:48.376+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:48.376+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:48.376+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:48.376+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:48.376+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:48.376+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:48.380+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:48.381+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:48.381+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:48.381+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:48.381+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:48.382+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:48.382+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:48.382+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:48.390+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:49.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:49.233+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:49.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:49.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:49.236+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:49.236+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:49.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:49.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:49.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:49.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:49.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:49.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:49.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:49.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:49.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:49.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:49.237+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:49.237+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:49.238+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:49.238+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:49.245+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:49.999+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:49.999+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:49.999+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:49.999+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:50.000+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:50.000+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:50.000+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:50.000+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:50.000+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:50.000+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:50.000+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:50.003+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:50.003+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:50.003+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:50.003+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:50.003+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:50.003+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:50.003+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:50.003+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:50.003+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:50.004+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:50.004+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:50.004+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:50.004+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:50.004+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:50.004+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:50.004+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:50.004+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:50.012+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:50.737+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:50.737+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:50.740+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:50.740+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:50.740+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:50.740+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:50.740+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:50.740+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:50.740+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:50.741+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:50.741+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:50.741+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:50.741+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:50.741+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:50.741+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:50.741+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:50.741+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:50.741+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:50.741+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:50.749+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:51.361+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:51.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:51.362+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:51.365+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:51.365+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:51.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:51.366+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:51.366+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:51.366+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:51.366+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:51.366+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:51.372+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:52.637+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:52.637+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:52.637+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:52.637+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:52.637+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:52.637+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:52.637+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:52.637+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:52.637+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:52.638+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:52.638+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:52.641+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:52.641+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:52.641+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:52.642+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:52.642+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:52.642+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:52.642+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:52.642+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:52.649+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:54.402+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:54.402+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:54.402+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:54.402+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:54.402+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:54.402+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:54.402+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:54.402+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:54.403+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:54.403+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:54.403+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:54.406+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:54.406+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:54.406+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:54.407+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:54.407+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:54.407+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:54.407+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:54.414+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:56.698+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:56.699+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:56.699+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:56.703+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:56.703+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:56.703+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:56.704+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:56.704+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:56.704+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:56.704+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:56.704+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:56.711+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:57.504+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:57.504+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:57.507+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:57.507+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:57.507+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:57.508+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:57.508+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:57.508+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:57.508+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:57.508+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:57.515+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:16:59.232+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:16:59.232+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:16:59.233+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:16:59.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:16:59.236+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:16:59.236+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:59.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:16:59.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:16:59.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:16:59.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:16:59.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:16:59.236+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:16:59.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:16:59.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:16:59.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:16:59.237+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:16:59.237+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:16:59.237+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:16:59.237+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:16:59.237+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : USER
2024-11-05T11:16:59.243+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:17:01.589+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:17:01.589+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:17:01.592+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:17:01.592+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:17:01.592+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:17:01.593+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:17:01.593+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:17:01.593+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:17:01.593+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] c.e.i.Controller.UserController          : USER
2024-11-05T11:17:01.600+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:17:09.843+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:17:09.843+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:17:09.844+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:17:09.847+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:17:09.847+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:17:09.847+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:17:09.847+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:17:09.848+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:17:09.848+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:17:09.848+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : USER
2024-11-05T11:17:09.854+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:17:25.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:17:25.361+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:17:25.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:17:25.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:17:25.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:17:25.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:17:25.361+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:17:25.362+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:17:25.362+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:17:25.362+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:17:25.362+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:17:25.365+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:17:25.365+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2b8e1519, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:17:25.365+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:17:25.365+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:17:25.366+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:17:25.366+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:17:25.366+07:00  INFO 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : USER
2024-11-05T11:17:25.373+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:17:49.765+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:17:49.766+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:17:49.766+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:17:49.767+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:17:49.767+07:00 ERROR 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.invoiceProject.Exception.AppException: Unauthenticated
	at com.example.invoiceProject.Service.JwtService.JwtService.verifyToken(JwtService.java:103) ~[classes/:na]
	at com.example.invoiceProject.Service.AuthenticateService.introspect(AuthenticateService.java:44) ~[classes/:na]
	at com.example.invoiceProject.Config.CustomJwtDecoder.decode(CustomJwtDecoder.java:38) ~[classes/:na]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:17:49.777+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:17:49.777+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-11-05T11:17:49.778+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:17:49.778+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:17:50.992+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:17:50.993+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:17:50.993+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:17:50.993+07:00 ERROR 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.invoiceProject.Exception.AppException: Unauthenticated
	at com.example.invoiceProject.Service.JwtService.JwtService.verifyToken(JwtService.java:103) ~[classes/:na]
	at com.example.invoiceProject.Service.AuthenticateService.introspect(AuthenticateService.java:44) ~[classes/:na]
	at com.example.invoiceProject.Config.CustomJwtDecoder.decode(CustomJwtDecoder.java:38) ~[classes/:na]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:17:50.994+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@343d06c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e92762, org.springframework.security.web.context.SecurityContextHolderFilter@74239871, org.springframework.security.web.header.HeaderWriterFilter@6ddab96c, org.springframework.web.filter.CorsFilter@23eecdd, org.springframework.security.web.authentication.logout.LogoutFilter@4a9cb9d8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67e42fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c31e10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ed0519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edb4ac9, org.springframework.security.web.session.SessionManagementFilter@16fc3be9, org.springframework.security.web.access.ExceptionTranslationFilter@22b0fe7e, org.springframework.security.web.access.intercept.AuthorizationFilter@9da8b97]] (1/1)
2024-11-05T11:17:50.994+07:00 DEBUG 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3eb78220
2024-11-05T11:17:50.995+07:00 TRACE 48047 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:19:12.817+07:00  INFO 48047 --- [InvoiceManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-05T11:19:12.818+07:00  INFO 48047 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-05T11:19:12.823+07:00  INFO 48047 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-05T11:19:41.697+07:00  INFO 48154 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Starting InvoiceProjectApplication using Java 22.0.1 with PID 48154 (/Users/pro/Documents/Workspace/invoiceProject/target/classes started by pro in /Users/pro/Documents/Workspace/invoiceProject)
2024-11-05T11:19:41.699+07:00  INFO 48154 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2024-11-05T11:19:42.344+07:00  INFO 48154 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-05T11:19:42.436+07:00  INFO 48154 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85 ms. Found 14 JPA repository interfaces.
2024-11-05T11:19:42.961+07:00  INFO 48154 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-11-05T11:19:42.973+07:00  INFO 48154 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-05T11:19:42.973+07:00  INFO 48154 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-11-05T11:19:43.020+07:00  INFO 48154 --- [InvoiceManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-05T11:19:43.021+07:00  INFO 48154 --- [InvoiceManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1284 ms
2024-11-05T11:19:43.160+07:00  INFO 48154 --- [InvoiceManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-05T11:19:43.228+07:00  INFO 48154 --- [InvoiceManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-11-05T11:19:43.265+07:00  INFO 48154 --- [InvoiceManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-11-05T11:19:43.523+07:00  INFO 48154 --- [InvoiceManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-05T11:19:43.542+07:00  INFO 48154 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-05T11:19:43.825+07:00  INFO 48154 --- [InvoiceManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f7cd50e
2024-11-05T11:19:43.827+07:00  INFO 48154 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-05T11:19:44.751+07:00  INFO 48154 --- [InvoiceManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-05T11:19:44.871+07:00  INFO 48154 --- [InvoiceManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-05T11:19:45.085+07:00  INFO 48154 --- [InvoiceManagement] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-11-05T11:19:45.717+07:00  INFO 48154 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Initializing Application
2024-11-05T11:19:45.746+07:00  WARN 48154 --- [InvoiceManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-05T11:19:45.757+07:00 TRACE 48154 --- [InvoiceManagement] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.example.invoiceProject.Config.SecurityConfig$$SpringCGLIB$$0@4fd9deed}
2024-11-05T11:19:45.758+07:00 DEBUG 48154 --- [InvoiceManagement] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-11-05T11:19:45.814+07:00  INFO 48154 --- [InvoiceManagement] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-11-05T11:19:46.020+07:00 DEBUG 48154 --- [InvoiceManagement] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-11-05T11:19:46.260+07:00  INFO 48154 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-11-05T11:19:46.269+07:00  INFO 48154 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Started InvoiceProjectApplication in 4.999 seconds (process running for 5.372)
2024-11-05T11:19:46.397+07:00  INFO 48154 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Application initialization completed .....
2024-11-05T11:20:00.167+07:00  INFO 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-05T11:20:00.167+07:00  INFO 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-11-05T11:20:00.169+07:00  INFO 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-11-05T11:20:00.181+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:20:00.182+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:20:00.182+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:20:00.183+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:20:00.184+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:20:00.185+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:20:00.186+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:20:00.187+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:20:00.188+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:20:00.188+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:20:00.188+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:20:00.188+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:20:00.188+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:20:00.189+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:20:00.190+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:20:00.190+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:20:00.191+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:20:00.191+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:20:00.191+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:20:00.191+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:20:00.192+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:20:00.193+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:20:00.436+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:20:08.622+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:20:08.622+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:20:08.622+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:20:08.622+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:20:08.622+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:20:08.622+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:20:08.622+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:20:08.622+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:20:08.622+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:20:08.623+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:20:08.623+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:20:08.639+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-11-05T11:20:08.640+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-11-05T11:20:08.640+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@45e96295, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:20:08.640+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:20:08.640+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:20:08.641+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:20:08.641+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:20:08.641+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@45e96295, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-11-05T11:20:08.641+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-05T11:20:08.641+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:20:08.641+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:20:08.641+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-11-05T11:20:08.642+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3a6a7665
2024-11-05T11:20:08.642+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-11-05T11:20:08.644+07:00  INFO 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-11-05T11:20:08.644+07:00  INFO 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : ADMIN
2024-11-05T11:20:08.644+07:00  INFO 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : USER
2024-11-05T11:20:08.666+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:20:21.797+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:20:21.797+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:20:21.797+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:20:21.798+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:20:21.798+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:20:21.798+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:20:21.798+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:20:21.798+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:20:21.798+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:20:21.798+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:20:21.798+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:20:21.799+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:20:21.800+07:00 ERROR 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.invoiceProject.Exception.AppException: Unauthenticated
	at com.example.invoiceProject.Service.JwtService.JwtService.verifyToken(JwtService.java:103) ~[classes/:na]
	at com.example.invoiceProject.Service.AuthenticateService.introspect(AuthenticateService.java:44) ~[classes/:na]
	at com.example.invoiceProject.Config.CustomJwtDecoder.decode(CustomJwtDecoder.java:38) ~[classes/:na]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:20:21.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:20:21.807+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-11-05T11:20:21.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:20:21.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:20:21.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:20:21.808+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:20:21.809+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-11-05T11:20:21.809+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3a6a7665
2024-11-05T11:20:21.809+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:20:28.126+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:20:28.126+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:20:28.126+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:20:28.126+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:20:28.126+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:20:28.126+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:20:28.127+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:20:28.128+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:20:28.128+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:20:28.128+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:20:28.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:20:35.251+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:20:35.251+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:20:35.252+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:20:35.252+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:20:35.252+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:20:35.252+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:20:35.252+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:20:35.252+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:20:35.252+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:20:35.252+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:20:35.319+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:20:36.077+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:20:36.077+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:20:36.078+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:20:36.078+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:20:36.146+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:20:44.421+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:20:44.421+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /auth/refresh
2024-11-05T11:20:44.421+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:20:44.421+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:20:44.421+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:20:44.421+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:20:44.421+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:20:44.421+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:20:44.421+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/refresh
2024-11-05T11:20:44.422+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:20:44.422+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /auth/refresh
2024-11-05T11:20:44.479+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:21:29.344+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:21:29.344+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:21:29.345+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:21:29.346+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:21:29.346+07:00 ERROR 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.invoiceProject.Exception.AppException: Unauthenticated
	at com.example.invoiceProject.Service.JwtService.JwtService.verifyToken(JwtService.java:103) ~[classes/:na]
	at com.example.invoiceProject.Service.AuthenticateService.introspect(AuthenticateService.java:44) ~[classes/:na]
	at com.example.invoiceProject.Config.CustomJwtDecoder.decode(CustomJwtDecoder.java:38) ~[classes/:na]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:21:29.347+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:21:29.347+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-11-05T11:21:29.347+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:21:29.348+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-11-05T11:21:29.349+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3a6a7665
2024-11-05T11:21:29.349+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:21:30.489+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:21:30.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:21:30.490+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:21:30.490+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:21:30.490+07:00 ERROR 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.invoiceProject.Exception.AppException: Unauthenticated
	at com.example.invoiceProject.Service.JwtService.JwtService.verifyToken(JwtService.java:103) ~[classes/:na]
	at com.example.invoiceProject.Service.AuthenticateService.introspect(AuthenticateService.java:44) ~[classes/:na]
	at com.example.invoiceProject.Config.CustomJwtDecoder.decode(CustomJwtDecoder.java:38) ~[classes/:na]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:21:30.491+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:21:30.491+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-11-05T11:21:30.491+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3a6a7665
2024-11-05T11:21:30.492+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:21:33.661+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /auth/refresh
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:21:33.661+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:21:33.662+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:21:33.662+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:21:33.662+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:21:33.662+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/refresh
2024-11-05T11:21:33.662+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:21:33.662+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /auth/refresh
2024-11-05T11:21:33.666+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:27:54.294+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:27:54.294+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:27:54.295+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:27:54.296+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:27:54.296+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:27:54.296+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:27:54.366+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:34:53.730+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:34:53.730+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:34:53.730+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:34:53.730+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:34:53.730+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:34:53.730+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:34:53.730+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:34:53.731+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:34:53.732+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:34:53.732+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:34:53.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:35:08.489+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /auth/refresh
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:35:08.489+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:35:08.490+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:35:08.490+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:35:08.490+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/refresh
2024-11-05T11:35:08.490+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:35:08.490+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /auth/refresh
2024-11-05T11:35:08.491+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:35:09.577+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:35:09.578+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /auth/refresh
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:35:09.578+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:35:09.579+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:35:09.579+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:35:09.579+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:35:09.579+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/refresh
2024-11-05T11:35:09.579+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:35:09.579+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /auth/refresh
2024-11-05T11:35:09.581+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:35:16.803+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:35:16.804+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:35:16.804+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-11-05T11:35:16.805+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:35:16.805+07:00 ERROR 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.invoiceProject.Exception.AppException: Unauthenticated
	at com.example.invoiceProject.Service.JwtService.JwtService.verifyToken(JwtService.java:103) ~[classes/:na]
	at com.example.invoiceProject.Service.AuthenticateService.introspect(AuthenticateService.java:44) ~[classes/:na]
	at com.example.invoiceProject.Config.CustomJwtDecoder.decode(CustomJwtDecoder.java:38) ~[classes/:na]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:35:16.806+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:35:16.806+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-11-05T11:35:16.806+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:35:16.806+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:35:16.806+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:35:16.806+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:35:16.806+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:35:16.806+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3a6a7665
2024-11-05T11:35:16.807+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-11-05T11:35:22.242+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:35:22.242+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-11-05T11:35:22.242+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:35:22.242+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-11-05T11:35:22.243+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:35:22.243+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-11-05T11:35:22.312+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:35:32.714+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:35:32.714+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /auth/refresh
2024-11-05T11:35:32.714+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:35:32.714+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:35:32.714+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:35:32.714+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:35:32.714+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/refresh
2024-11-05T11:35:32.715+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:35:32.715+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /auth/refresh
2024-11-05T11:35:32.726+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:35:34.611+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:35:34.611+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /auth/refresh
2024-11-05T11:35:34.611+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:35:34.611+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:35:34.611+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:35:34.611+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:35:34.611+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/refresh
2024-11-05T11:35:34.612+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:35:34.612+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /auth/refresh
2024-11-05T11:35:34.616+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:37:10.193+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@32f4d58a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18378ed7, org.springframework.security.web.context.SecurityContextHolderFilter@446b74b9, org.springframework.security.web.header.HeaderWriterFilter@51e513b7, org.springframework.web.filter.CorsFilter@63089bbe, org.springframework.security.web.authentication.logout.LogoutFilter@5e05f3eb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6162d87c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4f7911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bc259a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe18a7, org.springframework.security.web.session.SessionManagementFilter@2114955c, org.springframework.security.web.access.ExceptionTranslationFilter@2f0765f7, org.springframework.security.web.access.intercept.AuthorizationFilter@74239871]] (1/1)
2024-11-05T11:37:10.193+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /auth/refresh
2024-11-05T11:37:10.193+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-11-05T11:37:10.193+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/refresh
2024-11-05T11:37:10.194+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000129adc5b0@29098e0c
2024-11-05T11:37:10.194+07:00 DEBUG 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /auth/refresh
2024-11-05T11:37:10.196+07:00 TRACE 48154 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-05T11:57:26.164+07:00  WARN 48154 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m36s539ms).
2024-11-05T12:56:08.180+07:00  WARN 48154 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m11s695ms).
2024-11-05T12:58:13.554+07:00  WARN 48154 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m35s366ms).
2024-11-05T12:59:24.646+07:00  WARN 48154 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m11s92ms).
2024-11-05T13:15:47.154+07:00  WARN 48154 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m52s507ms).
2024-11-05T13:16:26.830+07:00  INFO 48154 --- [InvoiceManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-05T13:16:26.832+07:00  INFO 48154 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-05T13:16:26.835+07:00  INFO 48154 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
