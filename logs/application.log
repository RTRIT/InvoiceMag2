2024-10-20T11:21:49.975+07:00  INFO 60031 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Starting InvoiceProjectApplication using Java 22.0.1 with PID 60031 (/Users/pro/Documents/Workspace/invoiceProject/target/classes started by pro in /Users/pro/Documents/Workspace/invoiceProject)
2024-10-20T11:21:49.986+07:00  INFO 60031 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2024-10-20T11:21:50.714+07:00  INFO 60031 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-20T11:21:50.792+07:00  INFO 60031 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 13 JPA repository interfaces.
2024-10-20T11:21:51.360+07:00  INFO 60031 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-10-20T11:21:51.373+07:00  INFO 60031 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-20T11:21:51.374+07:00  INFO 60031 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-10-20T11:21:51.427+07:00  INFO 60031 --- [InvoiceManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-20T11:21:51.427+07:00  INFO 60031 --- [InvoiceManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1395 ms
2024-10-20T11:21:51.730+07:00  INFO 60031 --- [InvoiceManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-20T11:21:51.850+07:00  INFO 60031 --- [InvoiceManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-20T11:21:51.902+07:00  INFO 60031 --- [InvoiceManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-10-20T11:21:52.237+07:00  INFO 60031 --- [InvoiceManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-20T11:21:52.262+07:00  INFO 60031 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-20T11:21:52.856+07:00  INFO 60031 --- [InvoiceManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35e75f7a
2024-10-20T11:21:52.858+07:00  INFO 60031 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-20T11:21:54.499+07:00  INFO 60031 --- [InvoiceManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-20T11:21:54.659+07:00  INFO 60031 --- [InvoiceManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-20T11:21:54.939+07:00  INFO 60031 --- [InvoiceManagement] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-20T11:21:55.653+07:00  INFO 60031 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Initializing Application
2024-10-20T11:21:55.692+07:00  WARN 60031 --- [InvoiceManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-20T11:21:55.705+07:00 TRACE 60031 --- [InvoiceManagement] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.example.invoiceProject.Config.SecurityConfig$$SpringCGLIB$$0@951461a}
2024-10-20T11:21:55.707+07:00 DEBUG 60031 --- [InvoiceManagement] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-20T11:21:55.783+07:00  INFO 60031 --- [InvoiceManagement] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-10-20T11:21:56.055+07:00 DEBUG 60031 --- [InvoiceManagement] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-20T11:21:56.338+07:00  INFO 60031 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-10-20T11:21:56.352+07:00  INFO 60031 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Started InvoiceProjectApplication in 6.831 seconds (process running for 7.248)
2024-10-20T11:21:56.516+07:00  INFO 60031 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Application initialization completed .....
2024-10-20T11:22:16.968+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-20T11:22:16.968+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-20T11:22:16.970+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-10-20T11:22:16.985+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:22:16.985+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /privileges
2024-10-20T11:22:16.986+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:22:16.986+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:22:16.989+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:22:16.990+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:22:16.991+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:22:16.992+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:22:16.992+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:22:16.992+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:22:16.993+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-20T11:22:16.993+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:22:16.993+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:22:16.994+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:22:16.994+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:22:16.994+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-20T11:22:16.995+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-20T11:22:16.995+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:22:16.995+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:22:16.996+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /privileges
2024-10-20T11:22:16.998+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /privileges using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012aada930@3b523748
2024-10-20T11:22:16.998+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /privileges
2024-10-20T11:22:17.092+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:22:31.970+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:22:31.970+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /roles
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:22:31.971+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:22:31.972+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:22:31.972+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-20T11:22:31.972+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-20T11:22:31.972+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:22:31.972+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:22:31.972+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /roles
2024-10-20T11:22:31.972+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /roles using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012aada930@3b523748
2024-10-20T11:22:31.972+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /roles
2024-10-20T11:22:31.992+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:22:39.381+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:22:39.382+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /roles
2024-10-20T11:22:39.382+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:22:39.382+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:22:39.382+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:22:39.382+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:22:39.382+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:22:39.383+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-20T11:22:39.384+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-20T11:22:39.384+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:22:39.384+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:22:39.384+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /roles
2024-10-20T11:22:39.384+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /roles using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012aada930@3b523748
2024-10-20T11:22:39.384+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /roles
2024-10-20T11:22:39.390+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:23:00.088+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:23:00.088+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/vendors
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:23:00.089+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:23:00.090+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:23:00.090+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:23:00.090+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-20T11:23:00.090+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-20T11:23:00.090+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:23:00.090+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:23:00.090+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/vendors
2024-10-20T11:23:00.090+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/vendors using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:23:00.091+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-20T11:23:00.095+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:23:09.990+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:23:09.990+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-20T11:23:09.990+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:23:09.990+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:23:09.990+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:23:09.991+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:23:09.991+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:23:09.991+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:23:09.991+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:23:09.991+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:23:09.991+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:23:10.034+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.oauth2.jwt.JwtTimestampValidator   : Jwt expired at 2024-10-19T08:53:29Z
2024-10-20T11:23:10.035+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2024-10-20T11:23:10.036+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Jwt expired at 2024-10-19T08:53:29Z
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.JwtValidationException: An error occurred while attempting to decode the Jwt: Jwt expired at 2024-10-19T08:53:29Z
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.validateJwt(NimbusJwtDecoder.java:193) ~[spring-security-oauth2-jose-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:139) ~[spring-security-oauth2-jose-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	... 63 common frames omitted

2024-10-20T11:23:10.037+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:23:19.919+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:23:19.919+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-10-20T11:23:19.919+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:23:19.919+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:23:19.920+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:23:19.921+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-20T11:23:19.921+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-20T11:23:19.921+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:23:19.921+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:23:19.921+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-10-20T11:23:19.921+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012aada930@3b523748
2024-10-20T11:23:19.921+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-10-20T11:23:20.047+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:24:43.321+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:24:43.337+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-20T11:24:43.338+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:24:43.338+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:24:43.355+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:24:43.356+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:24:43.356+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:24:43.356+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:24:43.356+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:24:43.356+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:24:43.357+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:24:43.358+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.oauth2.jwt.JwtTimestampValidator   : Jwt expired at 2024-10-19T08:53:29Z
2024-10-20T11:24:43.358+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2024-10-20T11:24:43.358+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Jwt expired at 2024-10-19T08:53:29Z
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.JwtValidationException: An error occurred while attempting to decode the Jwt: Jwt expired at 2024-10-19T08:53:29Z
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.validateJwt(NimbusJwtDecoder.java:193) ~[spring-security-oauth2-jose-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:139) ~[spring-security-oauth2-jose-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	... 63 common frames omitted

2024-10-20T11:24:43.359+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:24:46.100+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:24:46.100+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-20T11:24:46.100+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:24:46.101+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:24:46.101+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:24:46.101+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:24:46.101+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:24:46.101+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:24:46.101+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:24:46.101+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:24:46.101+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:24:46.102+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:24:46.102+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:24:46.103+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:24:46.103+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:24:46.103+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:24:46.103+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:24:46.103+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:24:46.103+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:24:46.103+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:24:46.104+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:24:46.104+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:24:46.104+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-10-20T11:24:46.104+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:24:46.104+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-10-20T11:24:46.105+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-10-20T11:24:46.105+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : SCOPE_ADMIN
2024-10-20T11:24:46.105+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : SCOPE_USER
2024-10-20T11:24:46.125+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:47:12.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:47:12.096+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /user/my-info
2024-10-20T11:47:12.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:47:12.097+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:47:12.097+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:47:12.097+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:47:12.097+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:47:12.097+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:47:12.097+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:47:12.097+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:47:12.097+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:47:12.098+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.oauth2.jwt.JwtTimestampValidator   : Jwt expired at 2024-10-19T09:03:11Z
2024-10-20T11:47:12.098+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2024-10-20T11:47:12.098+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Jwt expired at 2024-10-19T09:03:11Z
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.JwtValidationException: An error occurred while attempting to decode the Jwt: Jwt expired at 2024-10-19T09:03:11Z
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.validateJwt(NimbusJwtDecoder.java:193) ~[spring-security-oauth2-jose-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:139) ~[spring-security-oauth2-jose-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	... 63 common frames omitted

2024-10-20T11:47:12.099+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:47:47.309+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:47:47.309+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/user/admin@gmail.com/update
2024-10-20T11:47:47.309+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:47:47.309+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:47:47.309+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:47:47.309+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:47:47.309+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:47:47.310+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:47:47.310+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:47:47.310+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:47:47.310+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:47:47.311+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:47:47.311+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:47:47.311+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:47:47.312+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/user/admin@gmail.com/update
2024-10-20T11:47:47.312+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/user/admin@gmail.com/update using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:47:47.312+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/user/admin@gmail.com/update
2024-10-20T11:47:47.478+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:48:39.244+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:48:39.244+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /api/user/admin@gmail.com/update
2024-10-20T11:48:39.244+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:48:39.244+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:48:39.244+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:48:39.244+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:48:39.245+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:48:39.245+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:48:39.245+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:48:39.245+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:48:39.245+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:48:39.246+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:48:39.246+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/user/admin@gmail.com/update
2024-10-20T11:48:39.246+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/user/admin@gmail.com/update using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:48:39.247+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /api/user/admin@gmail.com/update
2024-10-20T11:48:39.324+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:49:11.222+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:49:11.222+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-20T11:49:11.222+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:49:11.223+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:49:11.223+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:49:11.223+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:49:11.223+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:49:11.223+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:49:11.223+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:49:11.223+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:49:11.223+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:49:11.224+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:49:11.224+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-10-20T11:49:11.224+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:49:11.224+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-10-20T11:49:11.225+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-10-20T11:49:11.225+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : SCOPE_ADMIN
2024-10-20T11:49:11.225+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] c.e.i.Controller.UserController          : SCOPE_USER
2024-10-20T11:49:11.235+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:49:38.138+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:49:38.138+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-10-20T11:49:38.138+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:49:38.138+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:49:38.139+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-10-20T11:49:38.140+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012aada930@3b523748
2024-10-20T11:49:38.140+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-10-20T11:49:38.207+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:50:02.113+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:50:02.113+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /user/my-info
2024-10-20T11:50:02.113+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:50:02.113+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:50:02.113+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:50:02.114+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:50:02.114+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:50:02.114+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:50:02.114+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:50:02.114+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:50:02.114+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:50:02.115+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:50:02.115+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a707b41f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_USER]]
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a707b41f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_USER]]
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /user/my-info
2024-10-20T11:50:02.115+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /user/my-info using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:50:02.115+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /user/my-info
2024-10-20T11:50:02.121+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:50:23.094+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:50:23.094+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-20T11:50:23.094+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:50:23.094+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:50:23.094+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:50:23.095+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:50:23.095+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:50:23.095+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:50:23.095+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:50:23.095+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:50:23.095+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:50:23.095+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:50:23.095+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:50:23.096+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-10-20T11:50:23.096+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:50:23.096+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-10-20T11:50:23.097+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-10-20T11:50:23.097+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : SCOPE_ADMIN
2024-10-20T11:50:23.097+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] c.e.i.Controller.UserController          : SCOPE_USER
2024-10-20T11:50:23.106+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:50:34.885+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:50:34.885+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:50:34.886+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:50:34.886+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:50:34.886+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:50:34.886+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:50:34.886+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:50:34.886+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:50:34.886+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:50:34.887+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:50:34.887+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6ec96e74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:50:34.887+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:50:34.887+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:50:34.887+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:50:34.887+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-10-20T11:50:34.887+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:50:34.887+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-10-20T11:50:34.888+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-10-20T11:50:34.888+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : SCOPE_ADMIN
2024-10-20T11:50:34.888+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] c.e.i.Controller.UserController          : SCOPE_USER
2024-10-20T11:50:34.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:50:57.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:50:57.896+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-10-20T11:50:57.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:50:57.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:50:57.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:50:57.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:50:57.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:50:57.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:50:57.896+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-10-20T11:50:57.897+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012aada930@3b523748
2024-10-20T11:50:57.897+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-10-20T11:50:57.966+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:51:08.777+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:51:08.777+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:51:08.778+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:51:08.778+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8142f48, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8142f48, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-10-20T11:51:08.778+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:51:08.778+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-10-20T11:51:08.779+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-10-20T11:51:08.779+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : SCOPE_ADMIN
2024-10-20T11:51:08.779+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] c.e.i.Controller.UserController          : SCOPE_USER
2024-10-20T11:51:08.786+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:52:25.635+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@10f3bed7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9f0514, org.springframework.security.web.context.SecurityContextHolderFilter@721e5f57, org.springframework.security.web.header.HeaderWriterFilter@207512c3, org.springframework.web.filter.CorsFilter@6f61a1d8, org.springframework.security.web.authentication.logout.LogoutFilter@29478556, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58da6f7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb7b227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26f29ee5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55795e44, org.springframework.security.web.session.SessionManagementFilter@7ee45cbe, org.springframework.security.web.access.ExceptionTranslationFilter@2f71bb66, org.springframework.security.web.access.intercept.AuthorizationFilter@b517988]] (1/1)
2024-10-20T11:52:25.636+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:52:25.636+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:52:25.637+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:52:25.637+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8142f48, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8142f48, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-10-20T11:52:25.637+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3b2739c9
2024-10-20T11:52:25.637+07:00 DEBUG 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-10-20T11:52:25.637+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-10-20T11:52:25.637+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : SCOPE_ADMIN
2024-10-20T11:52:25.637+07:00  INFO 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] c.e.i.Controller.UserController          : SCOPE_USER
2024-10-20T11:52:25.645+07:00 TRACE 60031 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:57:50.611+07:00  INFO 60031 --- [InvoiceManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-20T11:57:50.613+07:00  INFO 60031 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-20T11:57:50.617+07:00  INFO 60031 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-20T11:57:53.325+07:00  INFO 62620 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Starting InvoiceProjectApplication using Java 22.0.1 with PID 62620 (/Users/pro/Documents/Workspace/invoiceProject/target/classes started by pro in /Users/pro/Documents/Workspace/invoiceProject)
2024-10-20T11:57:53.326+07:00  INFO 62620 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2024-10-20T11:57:53.935+07:00  INFO 62620 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-20T11:57:54.024+07:00  INFO 62620 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 13 JPA repository interfaces.
2024-10-20T11:57:54.516+07:00  INFO 62620 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-10-20T11:57:54.525+07:00  INFO 62620 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-20T11:57:54.526+07:00  INFO 62620 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-10-20T11:57:54.569+07:00  INFO 62620 --- [InvoiceManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-20T11:57:54.569+07:00  INFO 62620 --- [InvoiceManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1208 ms
2024-10-20T11:57:54.703+07:00  INFO 62620 --- [InvoiceManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-20T11:57:54.753+07:00  INFO 62620 --- [InvoiceManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-20T11:57:54.791+07:00  INFO 62620 --- [InvoiceManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-10-20T11:57:55.055+07:00  INFO 62620 --- [InvoiceManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-20T11:57:55.074+07:00  INFO 62620 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-20T11:57:55.355+07:00  INFO 62620 --- [InvoiceManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@277bc3a5
2024-10-20T11:57:55.357+07:00  INFO 62620 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-20T11:57:56.273+07:00  INFO 62620 --- [InvoiceManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-20T11:57:56.374+07:00  INFO 62620 --- [InvoiceManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-20T11:57:56.588+07:00  INFO 62620 --- [InvoiceManagement] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-20T11:57:57.198+07:00  INFO 62620 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Initializing Application
2024-10-20T11:57:57.228+07:00  WARN 62620 --- [InvoiceManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-20T11:57:57.239+07:00 TRACE 62620 --- [InvoiceManagement] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.example.invoiceProject.Config.SecurityConfig$$SpringCGLIB$$0@5eadc347}
2024-10-20T11:57:57.241+07:00 DEBUG 62620 --- [InvoiceManagement] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-20T11:57:57.296+07:00  INFO 62620 --- [InvoiceManagement] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-10-20T11:57:57.501+07:00 DEBUG 62620 --- [InvoiceManagement] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-20T11:57:57.702+07:00  INFO 62620 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-10-20T11:57:57.712+07:00  INFO 62620 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Started InvoiceProjectApplication in 4.765 seconds (process running for 5.072)
2024-10-20T11:57:57.843+07:00  INFO 62620 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Application initialization completed .....
2024-10-20T11:58:27.670+07:00  INFO 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-20T11:58:27.670+07:00  INFO 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-20T11:58:27.672+07:00  INFO 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-10-20T11:58:27.685+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@440e999d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd658e, org.springframework.security.web.context.SecurityContextHolderFilter@7b3b0896, org.springframework.security.web.header.HeaderWriterFilter@46a6f51b, org.springframework.web.filter.CorsFilter@30dd9f62, org.springframework.security.web.authentication.logout.LogoutFilter@8941d98, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@445760e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@432e61f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76b195d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dda084d, org.springframework.security.web.session.SessionManagementFilter@252bc7ec, org.springframework.security.web.access.ExceptionTranslationFilter@3ca9e72d, org.springframework.security.web.access.intercept.AuthorizationFilter@12ce9299]] (1/1)
2024-10-20T11:58:27.686+07:00 DEBUG 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-10-20T11:58:27.686+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:58:27.687+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:58:27.688+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:58:27.689+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:58:27.690+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:58:27.691+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:58:27.691+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:58:27.691+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:58:27.692+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-20T11:58:27.692+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:58:27.692+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:58:27.693+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:58:27.693+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:58:27.693+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-20T11:58:27.694+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-20T11:58:27.694+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:58:27.694+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:58:27.694+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-10-20T11:58:27.695+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000135ad1428@38359631
2024-10-20T11:58:27.696+07:00 DEBUG 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-10-20T11:58:27.915+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T11:58:40.510+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@440e999d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd658e, org.springframework.security.web.context.SecurityContextHolderFilter@7b3b0896, org.springframework.security.web.header.HeaderWriterFilter@46a6f51b, org.springframework.web.filter.CorsFilter@30dd9f62, org.springframework.security.web.authentication.logout.LogoutFilter@8941d98, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@445760e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@432e61f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76b195d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dda084d, org.springframework.security.web.session.SessionManagementFilter@252bc7ec, org.springframework.security.web.access.ExceptionTranslationFilter@3ca9e72d, org.springframework.security.web.access.intercept.AuthorizationFilter@12ce9299]] (1/1)
2024-10-20T11:58:40.511+07:00 DEBUG 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /user/my-info
2024-10-20T11:58:40.511+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T11:58:40.511+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T11:58:40.511+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T11:58:40.511+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T11:58:40.511+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T11:58:40.511+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T11:58:40.511+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T11:58:40.511+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T11:58:40.512+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T11:58:40.517+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T11:58:40.517+07:00 DEBUG 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T11:58:40.518+07:00 DEBUG 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b8966bc1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:58:40.518+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T11:58:40.518+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T11:58:40.518+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T11:58:40.518+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T11:58:40.519+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b8966bc1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T11:58:40.519+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T11:58:40.519+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T11:58:40.519+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T11:58:40.519+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /user/my-info
2024-10-20T11:58:40.520+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /user/my-info using org.springframework.security.authorization.AuthenticatedAuthorizationManager@369dfe0f
2024-10-20T11:58:40.520+07:00 DEBUG 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /user/my-info
2024-10-20T11:58:40.554+07:00 TRACE 62620 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T12:00:25.882+07:00  INFO 62620 --- [InvoiceManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-20T12:00:25.883+07:00  INFO 62620 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-20T12:00:25.888+07:00  INFO 62620 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-20T12:00:29.221+07:00  INFO 62846 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Starting InvoiceProjectApplication using Java 22.0.1 with PID 62846 (/Users/pro/Documents/Workspace/invoiceProject/target/classes started by pro in /Users/pro/Documents/Workspace/invoiceProject)
2024-10-20T12:00:29.222+07:00  INFO 62846 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2024-10-20T12:00:29.815+07:00  INFO 62846 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-20T12:00:29.894+07:00  INFO 62846 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 13 JPA repository interfaces.
2024-10-20T12:00:30.402+07:00  INFO 62846 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-10-20T12:00:30.413+07:00  INFO 62846 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-20T12:00:30.413+07:00  INFO 62846 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-10-20T12:00:30.455+07:00  INFO 62846 --- [InvoiceManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-20T12:00:30.455+07:00  INFO 62846 --- [InvoiceManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1199 ms
2024-10-20T12:00:30.592+07:00  INFO 62846 --- [InvoiceManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-20T12:00:30.641+07:00  INFO 62846 --- [InvoiceManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-20T12:00:30.673+07:00  INFO 62846 --- [InvoiceManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-10-20T12:00:30.919+07:00  INFO 62846 --- [InvoiceManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-20T12:00:30.941+07:00  INFO 62846 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-20T12:00:31.225+07:00  INFO 62846 --- [InvoiceManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56266bda
2024-10-20T12:00:31.226+07:00  INFO 62846 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-20T12:00:32.187+07:00  INFO 62846 --- [InvoiceManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-20T12:00:32.286+07:00  INFO 62846 --- [InvoiceManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-20T12:00:32.542+07:00  INFO 62846 --- [InvoiceManagement] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-20T12:00:33.143+07:00  INFO 62846 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Initializing Application
2024-10-20T12:00:33.176+07:00  WARN 62846 --- [InvoiceManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-20T12:00:33.187+07:00 TRACE 62846 --- [InvoiceManagement] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.example.invoiceProject.Config.SecurityConfig$$SpringCGLIB$$0@5f6ba085}
2024-10-20T12:00:33.189+07:00 DEBUG 62846 --- [InvoiceManagement] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-20T12:00:33.239+07:00  INFO 62846 --- [InvoiceManagement] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-10-20T12:00:33.470+07:00 DEBUG 62846 --- [InvoiceManagement] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-20T12:00:33.688+07:00  INFO 62846 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-10-20T12:00:33.697+07:00  INFO 62846 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Started InvoiceProjectApplication in 4.871 seconds (process running for 5.178)
2024-10-20T12:00:33.828+07:00  INFO 62846 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Application initialization completed .....
2024-10-20T12:00:42.947+07:00  INFO 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-20T12:00:42.948+07:00  INFO 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-20T12:00:42.949+07:00  INFO 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-20T12:00:42.960+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4de901ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d2e712f, org.springframework.security.web.context.SecurityContextHolderFilter@7ba821ef, org.springframework.security.web.header.HeaderWriterFilter@7b3b0896, org.springframework.web.filter.CorsFilter@2adf7957, org.springframework.security.web.authentication.logout.LogoutFilter@51cbd1d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1fdc2d45, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2779acb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f71bb66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f7c6f5a, org.springframework.security.web.session.SessionManagementFilter@2dda28a3, org.springframework.security.web.access.ExceptionTranslationFilter@279c94ad, org.springframework.security.web.access.intercept.AuthorizationFilter@22152da0]] (1/1)
2024-10-20T12:00:42.960+07:00 DEBUG 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /user/my-info
2024-10-20T12:00:42.961+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-20T12:00:42.961+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-20T12:00:42.962+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-20T12:00:42.963+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-20T12:00:42.964+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-20T12:00:42.965+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-20T12:00:42.965+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-20T12:00:42.965+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-20T12:00:42.966+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-20T12:00:42.999+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-20T12:00:43.000+07:00 DEBUG 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-20T12:00:43.000+07:00 DEBUG 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b8966bc1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T12:00:43.000+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-20T12:00:43.001+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-20T12:00:43.001+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-20T12:00:43.002+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-20T12:00:43.002+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b8966bc1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_ADMIN, SCOPE_USER]]
2024-10-20T12:00:43.003+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-20T12:00:43.003+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-20T12:00:43.003+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-20T12:00:43.004+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /user/my-info
2024-10-20T12:00:43.005+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /user/my-info using org.springframework.security.authorization.AuthenticatedAuthorizationManager@5f0abee4
2024-10-20T12:00:43.006+07:00 DEBUG 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /user/my-info
2024-10-20T12:00:43.098+07:00 TRACE 62846 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-20T12:06:51.602+07:00  WARN 62846 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m20s241ms).
2024-10-20T12:17:26.146+07:00  WARN 62846 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m34s484ms).
2024-10-20T12:30:43.627+07:00  WARN 62846 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m17s395ms).
2024-10-20T12:34:43.733+07:00  WARN 62846 --- [InvoiceManagement] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m87ms).
