2024-10-25T00:07:07.404+07:00  INFO 10520 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Starting InvoiceProjectApplication using Java 22.0.1 with PID 10520 (/Users/pro/Documents/Workspace/invoiceProject/target/classes started by pro in /Users/pro/Documents/Workspace/invoiceProject)
2024-10-25T00:07:07.415+07:00  INFO 10520 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2024-10-25T00:07:08.170+07:00  INFO 10520 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-25T00:07:08.253+07:00  INFO 10520 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 14 JPA repository interfaces.
2024-10-25T00:07:08.835+07:00  INFO 10520 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-10-25T00:07:08.847+07:00  INFO 10520 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-25T00:07:08.848+07:00  INFO 10520 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-10-25T00:07:08.895+07:00  INFO 10520 --- [InvoiceManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-25T00:07:08.895+07:00  INFO 10520 --- [InvoiceManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1433 ms
2024-10-25T00:07:09.069+07:00  INFO 10520 --- [InvoiceManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-25T00:07:09.124+07:00  INFO 10520 --- [InvoiceManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-25T00:07:09.168+07:00  INFO 10520 --- [InvoiceManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-10-25T00:07:09.525+07:00  INFO 10520 --- [InvoiceManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-25T00:07:09.546+07:00  INFO 10520 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-25T00:07:09.884+07:00  INFO 10520 --- [InvoiceManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f7bb8df
2024-10-25T00:07:09.885+07:00  INFO 10520 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-25T00:07:11.002+07:00  INFO 10520 --- [InvoiceManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-25T00:07:11.134+07:00  INFO 10520 --- [InvoiceManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-25T00:07:11.432+07:00  INFO 10520 --- [InvoiceManagement] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-25T00:07:12.052+07:00  INFO 10520 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Initializing Application
2024-10-25T00:07:12.085+07:00  WARN 10520 --- [InvoiceManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-25T00:07:12.097+07:00 TRACE 10520 --- [InvoiceManagement] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.example.invoiceProject.Config.SecurityConfig$$SpringCGLIB$$0@18ea9bec}
2024-10-25T00:07:12.099+07:00 DEBUG 10520 --- [InvoiceManagement] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-25T00:07:12.164+07:00  INFO 10520 --- [InvoiceManagement] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-10-25T00:07:12.356+07:00 DEBUG 10520 --- [InvoiceManagement] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-25T00:07:12.610+07:00  INFO 10520 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-10-25T00:07:12.619+07:00  INFO 10520 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Started InvoiceProjectApplication in 5.67 seconds (process running for 6.097)
2024-10-25T00:07:12.757+07:00  INFO 10520 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Application initialization completed .....
2024-10-25T00:08:23.405+07:00  INFO 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-25T00:08:23.406+07:00  INFO 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-25T00:08:23.407+07:00  INFO 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-25T00:08:23.423+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@199353d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d735dbf, org.springframework.security.web.context.SecurityContextHolderFilter@14d9d042, org.springframework.security.web.header.HeaderWriterFilter@377d66f, org.springframework.web.filter.CorsFilter@5256795d, org.springframework.security.web.authentication.logout.LogoutFilter@106277d6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7118a1b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f709e71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3af8f1ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5de99678, org.springframework.security.web.session.SessionManagementFilter@5a9ccbfb, org.springframework.security.web.access.ExceptionTranslationFilter@3e5f458f, org.springframework.security.web.access.intercept.AuthorizationFilter@72a522f1]] (1/1)
2024-10-25T00:08:23.423+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-25T00:08:23.424+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:08:23.425+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:08:23.427+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:08:23.428+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:08:23.429+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:08:23.430+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:08:23.430+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:08:23.430+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:08:23.432+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-25T00:08:23.470+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:08:23.470+07:00 ERROR 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.invoiceProject.Exception.AppException: Unauthenticated
	at com.example.invoiceProject.Service.JwtService.JwtService.verifyToken(JwtService.java:94) ~[classes/:na]
	at com.example.invoiceProject.Service.AuthenticateService.introspect(AuthenticateService.java:41) ~[classes/:na]
	at com.example.invoiceProject.Config.CustomJwtDecoder.decode(CustomJwtDecoder.java:35) ~[classes/:na]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-25T00:08:23.479+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@199353d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d735dbf, org.springframework.security.web.context.SecurityContextHolderFilter@14d9d042, org.springframework.security.web.header.HeaderWriterFilter@377d66f, org.springframework.web.filter.CorsFilter@5256795d, org.springframework.security.web.authentication.logout.LogoutFilter@106277d6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7118a1b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f709e71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3af8f1ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5de99678, org.springframework.security.web.session.SessionManagementFilter@5a9ccbfb, org.springframework.security.web.access.ExceptionTranslationFilter@3e5f458f, org.springframework.security.web.access.intercept.AuthorizationFilter@72a522f1]] (1/1)
2024-10-25T00:08:23.479+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-10-25T00:08:23.479+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:08:23.479+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:08:23.479+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:08:23.479+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:08:23.479+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:08:23.479+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:08:23.479+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:08:23.480+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:08:23.480+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:08:23.480+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:08:23.481+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:08:23.481+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:08:23.481+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:08:23.482+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:08:23.482+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:08:23.482+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:08:23.482+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-10-25T00:08:23.483+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@632e1afc
2024-10-25T00:08:23.484+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@199353d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d735dbf, org.springframework.security.web.context.SecurityContextHolderFilter@14d9d042, org.springframework.security.web.header.HeaderWriterFilter@377d66f, org.springframework.web.filter.CorsFilter@5256795d, org.springframework.security.web.authentication.logout.LogoutFilter@106277d6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7118a1b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f709e71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3af8f1ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5de99678, org.springframework.security.web.session.SessionManagementFilter@5a9ccbfb, org.springframework.security.web.access.ExceptionTranslationFilter@3e5f458f, org.springframework.security.web.access.intercept.AuthorizationFilter@72a522f1]] (1/1)
2024-10-25T00:08:26.499+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:08:26.499+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-10-25T00:08:26.500+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012fadfb70@6e177ba4
2024-10-25T00:08:26.501+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-10-25T00:08:26.692+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:08:41.539+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@199353d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d735dbf, org.springframework.security.web.context.SecurityContextHolderFilter@14d9d042, org.springframework.security.web.header.HeaderWriterFilter@377d66f, org.springframework.web.filter.CorsFilter@5256795d, org.springframework.security.web.authentication.logout.LogoutFilter@106277d6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7118a1b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f709e71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3af8f1ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5de99678, org.springframework.security.web.session.SessionManagementFilter@5a9ccbfb, org.springframework.security.web.access.ExceptionTranslationFilter@3e5f458f, org.springframework.security.web.access.intercept.AuthorizationFilter@72a522f1]] (1/1)
2024-10-25T00:08:41.540+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /roles
2024-10-25T00:08:41.540+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:08:41.540+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:08:41.540+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:08:41.540+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:08:41.540+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:08:41.540+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:08:41.540+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:08:41.540+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:08:41.541+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-25T00:08:41.557+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-25T00:08:41.558+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-25T00:08:41.558+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@46453248, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-10-25T00:08:41.558+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:08:41.558+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:08:41.558+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:08:41.558+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:08:41.558+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@46453248, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-10-25T00:08:41.558+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-25T00:08:41.559+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:08:41.559+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:08:41.559+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /roles
2024-10-25T00:08:41.559+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /roles using org.springframework.security.authorization.AuthenticatedAuthorizationManager@632e1afc
2024-10-25T00:08:41.559+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /roles
2024-10-25T00:08:41.592+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:08:54.856+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@199353d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d735dbf, org.springframework.security.web.context.SecurityContextHolderFilter@14d9d042, org.springframework.security.web.header.HeaderWriterFilter@377d66f, org.springframework.web.filter.CorsFilter@5256795d, org.springframework.security.web.authentication.logout.LogoutFilter@106277d6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7118a1b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f709e71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3af8f1ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5de99678, org.springframework.security.web.session.SessionManagementFilter@5a9ccbfb, org.springframework.security.web.access.ExceptionTranslationFilter@3e5f458f, org.springframework.security.web.access.intercept.AuthorizationFilter@72a522f1]] (1/1)
2024-10-25T00:08:54.857+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-25T00:08:54.857+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:08:54.857+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:08:54.857+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:08:54.857+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:08:54.857+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:08:54.857+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:08:54.857+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:08:54.857+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:08:54.858+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-25T00:08:54.865+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-25T00:08:54.865+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-25T00:08:54.865+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@46453248, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-10-25T00:08:54.865+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:08:54.865+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:08:54.866+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:08:54.866+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:08:54.866+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@46453248, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-10-25T00:08:54.866+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-25T00:08:54.866+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:08:54.866+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:08:54.866+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-10-25T00:08:54.866+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@632e1afc
2024-10-25T00:08:54.866+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-10-25T00:08:54.867+07:00  INFO 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-10-25T00:08:54.868+07:00  INFO 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : ADMIN
2024-10-25T00:08:54.868+07:00  INFO 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] c.e.i.Controller.UserController          : USER
2024-10-25T00:08:54.889+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:10:00.147+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@199353d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d735dbf, org.springframework.security.web.context.SecurityContextHolderFilter@14d9d042, org.springframework.security.web.header.HeaderWriterFilter@377d66f, org.springframework.web.filter.CorsFilter@5256795d, org.springframework.security.web.authentication.logout.LogoutFilter@106277d6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7118a1b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f709e71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3af8f1ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5de99678, org.springframework.security.web.session.SessionManagementFilter@5a9ccbfb, org.springframework.security.web.access.ExceptionTranslationFilter@3e5f458f, org.springframework.security.web.access.intercept.AuthorizationFilter@72a522f1]] (1/1)
2024-10-25T00:10:00.148+07:00 DEBUG 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /auth/refresh
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:10:00.148+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:10:00.149+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:10:00.149+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:10:00.149+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:10:00.149+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:10:00.149+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:10:00.149+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /auth/refresh
2024-10-25T00:10:00.149+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /auth/refresh using org.springframework.security.authorization.AuthenticatedAuthorizationManager@632e1afc
2024-10-25T00:10:00.149+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-25T00:10:00.150+07:00 TRACE 10520 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:10:09.805+07:00  INFO 10520 --- [InvoiceManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-25T00:10:09.806+07:00  INFO 10520 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-25T00:10:09.810+07:00  INFO 10520 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-25T00:10:38.139+07:00  INFO 10574 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Starting InvoiceProjectApplication using Java 22.0.1 with PID 10574 (/Users/pro/Documents/Workspace/invoiceProject/target/classes started by pro in /Users/pro/Documents/Workspace/invoiceProject)
2024-10-25T00:10:38.141+07:00  INFO 10574 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2024-10-25T00:10:38.947+07:00  INFO 10574 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-25T00:10:39.042+07:00  INFO 10574 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 14 JPA repository interfaces.
2024-10-25T00:10:39.704+07:00  INFO 10574 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-10-25T00:10:39.720+07:00  INFO 10574 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-25T00:10:39.721+07:00  INFO 10574 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-10-25T00:10:39.789+07:00  INFO 10574 --- [InvoiceManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-25T00:10:39.790+07:00  INFO 10574 --- [InvoiceManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1599 ms
2024-10-25T00:10:39.944+07:00  INFO 10574 --- [InvoiceManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-25T00:10:40.010+07:00  INFO 10574 --- [InvoiceManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-25T00:10:40.048+07:00  INFO 10574 --- [InvoiceManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-10-25T00:10:40.363+07:00  INFO 10574 --- [InvoiceManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-25T00:10:40.383+07:00  INFO 10574 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-25T00:10:40.693+07:00  INFO 10574 --- [InvoiceManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@359e27d2
2024-10-25T00:10:40.696+07:00  INFO 10574 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-25T00:10:41.832+07:00  INFO 10574 --- [InvoiceManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-25T00:10:41.957+07:00  INFO 10574 --- [InvoiceManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-25T00:10:42.215+07:00  INFO 10574 --- [InvoiceManagement] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-25T00:10:42.911+07:00  INFO 10574 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Initializing Application
2024-10-25T00:10:42.941+07:00  WARN 10574 --- [InvoiceManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-25T00:10:42.954+07:00 TRACE 10574 --- [InvoiceManagement] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.example.invoiceProject.Config.SecurityConfig$$SpringCGLIB$$0@799bb4ed}
2024-10-25T00:10:42.955+07:00 DEBUG 10574 --- [InvoiceManagement] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-25T00:10:43.027+07:00  INFO 10574 --- [InvoiceManagement] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-10-25T00:10:43.239+07:00 DEBUG 10574 --- [InvoiceManagement] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-25T00:10:43.510+07:00  INFO 10574 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-10-25T00:10:43.528+07:00  INFO 10574 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Started InvoiceProjectApplication in 5.866 seconds (process running for 6.274)
2024-10-25T00:10:43.677+07:00  INFO 10574 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Application initialization completed .....
2024-10-25T00:10:48.011+07:00  INFO 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-25T00:10:48.011+07:00  INFO 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-25T00:10:48.012+07:00  INFO 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-25T00:10:48.025+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6034fed6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26707eca, org.springframework.security.web.context.SecurityContextHolderFilter@13b0755e, org.springframework.security.web.header.HeaderWriterFilter@41d0b71d, org.springframework.web.filter.CorsFilter@57ccccef, org.springframework.security.web.authentication.logout.LogoutFilter@5f092eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7adf0ff9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f3c1f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70cc0601, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a6ae98c, org.springframework.security.web.session.SessionManagementFilter@73f83bff, org.springframework.security.web.access.ExceptionTranslationFilter@6e5506c9, org.springframework.security.web.access.intercept.AuthorizationFilter@14d9d042]] (1/1)
2024-10-25T00:10:48.025+07:00 DEBUG 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /auth/refresh
2024-10-25T00:10:48.026+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:10:48.026+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:10:48.029+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:10:48.030+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:10:48.030+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:10:48.032+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:10:48.032+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:10:48.032+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:10:48.033+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-25T00:10:48.033+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:10:48.033+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:10:48.034+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:10:48.034+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:10:48.034+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:10:48.035+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:10:48.035+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:10:48.035+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:10:48.036+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /auth/refresh
2024-10-25T00:10:48.036+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000130ada620@17009005
2024-10-25T00:10:48.037+07:00 DEBUG 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /auth/refresh
2024-10-25T00:10:48.043+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:10:48.044+07:00  WARN 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6034fed6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26707eca, org.springframework.security.web.context.SecurityContextHolderFilter@13b0755e, org.springframework.security.web.header.HeaderWriterFilter@41d0b71d, org.springframework.web.filter.CorsFilter@57ccccef, org.springframework.security.web.authentication.logout.LogoutFilter@5f092eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7adf0ff9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f3c1f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70cc0601, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a6ae98c, org.springframework.security.web.session.SessionManagementFilter@73f83bff, org.springframework.security.web.access.ExceptionTranslationFilter@6e5506c9, org.springframework.security.web.access.intercept.AuthorizationFilter@14d9d042]] (1/1)
2024-10-25T00:10:48.056+07:00 DEBUG 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:10:48.056+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:10:48.057+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:10:48.057+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:10:48.057+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:10:48.057+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:10:48.057+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:10:48.057+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-10-25T00:10:48.057+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32e1e9bf
2024-10-25T00:10:48.057+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:10:48.058+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:10:48.058+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-25T00:10:51.600+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6034fed6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26707eca, org.springframework.security.web.context.SecurityContextHolderFilter@13b0755e, org.springframework.security.web.header.HeaderWriterFilter@41d0b71d, org.springframework.web.filter.CorsFilter@57ccccef, org.springframework.security.web.authentication.logout.LogoutFilter@5f092eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7adf0ff9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f3c1f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70cc0601, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a6ae98c, org.springframework.security.web.session.SessionManagementFilter@73f83bff, org.springframework.security.web.access.ExceptionTranslationFilter@6e5506c9, org.springframework.security.web.access.intercept.AuthorizationFilter@14d9d042]] (1/1)
2024-10-25T00:10:51.600+07:00 DEBUG 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-10-25T00:10:51.600+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:10:51.600+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:10:51.600+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:10:51.600+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:10:51.600+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:10:51.601+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-10-25T00:10:51.602+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000130ada620@17009005
2024-10-25T00:10:51.602+07:00 DEBUG 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-10-25T00:10:51.800+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:11:03.649+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6034fed6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26707eca, org.springframework.security.web.context.SecurityContextHolderFilter@13b0755e, org.springframework.security.web.header.HeaderWriterFilter@41d0b71d, org.springframework.web.filter.CorsFilter@57ccccef, org.springframework.security.web.authentication.logout.LogoutFilter@5f092eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7adf0ff9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f3c1f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70cc0601, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a6ae98c, org.springframework.security.web.session.SessionManagementFilter@73f83bff, org.springframework.security.web.access.ExceptionTranslationFilter@6e5506c9, org.springframework.security.web.access.intercept.AuthorizationFilter@14d9d042]] (1/1)
2024-10-25T00:11:03.649+07:00 DEBUG 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /auth/refresh
2024-10-25T00:11:03.649+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:11:03.649+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:11:03.649+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:11:03.649+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:11:03.650+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /auth/refresh
2024-10-25T00:11:03.651+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000000130ada620@17009005
2024-10-25T00:11:03.651+07:00 DEBUG 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /auth/refresh
2024-10-25T00:11:03.651+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:11:03.651+07:00  WARN 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6034fed6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26707eca, org.springframework.security.web.context.SecurityContextHolderFilter@13b0755e, org.springframework.security.web.header.HeaderWriterFilter@41d0b71d, org.springframework.web.filter.CorsFilter@57ccccef, org.springframework.security.web.authentication.logout.LogoutFilter@5f092eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7adf0ff9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f3c1f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70cc0601, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a6ae98c, org.springframework.security.web.session.SessionManagementFilter@73f83bff, org.springframework.security.web.access.ExceptionTranslationFilter@6e5506c9, org.springframework.security.web.access.intercept.AuthorizationFilter@14d9d042]] (1/1)
2024-10-25T00:11:03.652+07:00 DEBUG 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:11:03.652+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:11:03.653+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:11:03.653+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:11:03.653+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:11:03.653+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-10-25T00:11:03.653+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32e1e9bf
2024-10-25T00:11:03.653+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:11:03.653+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:11:03.653+07:00 TRACE 10574 --- [InvoiceManagement] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-25T00:12:14.126+07:00  INFO 10574 --- [InvoiceManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-25T00:12:14.128+07:00  INFO 10574 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-25T00:12:14.134+07:00  INFO 10574 --- [InvoiceManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-25T00:12:36.235+07:00  INFO 10605 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Starting InvoiceProjectApplication using Java 22.0.1 with PID 10605 (/Users/pro/Documents/Workspace/invoiceProject/target/classes started by pro in /Users/pro/Documents/Workspace/invoiceProject)
2024-10-25T00:12:36.237+07:00  INFO 10605 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : No active profile set, falling back to 1 default profile: "default"
2024-10-25T00:12:36.912+07:00  INFO 10605 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-25T00:12:37.006+07:00  INFO 10605 --- [InvoiceManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 14 JPA repository interfaces.
2024-10-25T00:12:37.629+07:00  INFO 10605 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-10-25T00:12:37.641+07:00  INFO 10605 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-25T00:12:37.642+07:00  INFO 10605 --- [InvoiceManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-10-25T00:12:37.693+07:00  INFO 10605 --- [InvoiceManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-25T00:12:37.693+07:00  INFO 10605 --- [InvoiceManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1417 ms
2024-10-25T00:12:37.828+07:00  INFO 10605 --- [InvoiceManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-25T00:12:37.886+07:00  INFO 10605 --- [InvoiceManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-25T00:12:37.923+07:00  INFO 10605 --- [InvoiceManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-10-25T00:12:38.215+07:00  INFO 10605 --- [InvoiceManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-25T00:12:38.236+07:00  INFO 10605 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-25T00:12:38.605+07:00  INFO 10605 --- [InvoiceManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@359e27d2
2024-10-25T00:12:38.607+07:00  INFO 10605 --- [InvoiceManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-25T00:12:39.711+07:00  INFO 10605 --- [InvoiceManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-25T00:12:39.831+07:00  INFO 10605 --- [InvoiceManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-25T00:12:40.076+07:00  INFO 10605 --- [InvoiceManagement] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-25T00:12:40.806+07:00  INFO 10605 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Initializing Application
2024-10-25T00:12:40.839+07:00  WARN 10605 --- [InvoiceManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-25T00:12:40.852+07:00 TRACE 10605 --- [InvoiceManagement] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.example.invoiceProject.Config.SecurityConfig$$SpringCGLIB$$0@799bb4ed}
2024-10-25T00:12:40.853+07:00 DEBUG 10605 --- [InvoiceManagement] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-25T00:12:40.912+07:00  INFO 10605 --- [InvoiceManagement] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-10-25T00:12:41.154+07:00 DEBUG 10605 --- [InvoiceManagement] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-25T00:12:41.429+07:00  INFO 10605 --- [InvoiceManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-10-25T00:12:41.438+07:00  INFO 10605 --- [InvoiceManagement] [main] c.e.i.InvoiceProjectApplication          : Started InvoiceProjectApplication in 5.66 seconds (process running for 6.032)
2024-10-25T00:12:41.576+07:00  INFO 10605 --- [InvoiceManagement] [main] c.e.i.Config.ApplicationInitConfig       : Application initialization completed .....
2024-10-25T00:13:10.042+07:00  INFO 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-25T00:13:10.043+07:00  INFO 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-25T00:13:10.044+07:00  INFO 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-25T00:13:10.059+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2189952f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c18e0aa, org.springframework.security.web.context.SecurityContextHolderFilter@24b9c037, org.springframework.security.web.header.HeaderWriterFilter@2114955c, org.springframework.web.filter.CorsFilter@3226e663, org.springframework.security.web.authentication.logout.LogoutFilter@74f446ba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3af8f1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e950ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f6d2847, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2397ccd, org.springframework.security.web.session.SessionManagementFilter@ddb59b6, org.springframework.security.web.access.ExceptionTranslationFilter@308bd473, org.springframework.security.web.access.intercept.AuthorizationFilter@13437ce5]] (1/1)
2024-10-25T00:13:10.060+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /auth/token
2024-10-25T00:13:10.061+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:13:10.061+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:13:10.063+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:13:10.063+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:13:10.065+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:13:10.066+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:13:10.066+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:13:10.067+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:13:10.067+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-25T00:13:10.067+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:13:10.067+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:13:10.068+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:13:10.068+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:13:10.069+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:13:10.069+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:13:10.070+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:13:10.070+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:13:10.070+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/token
2024-10-25T00:13:10.071+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/token using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012bada620@5ef1eec5
2024-10-25T00:13:10.072+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /auth/token
2024-10-25T00:13:10.288+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:13:26.567+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2189952f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c18e0aa, org.springframework.security.web.context.SecurityContextHolderFilter@24b9c037, org.springframework.security.web.header.HeaderWriterFilter@2114955c, org.springframework.web.filter.CorsFilter@3226e663, org.springframework.security.web.authentication.logout.LogoutFilter@74f446ba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3af8f1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e950ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f6d2847, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2397ccd, org.springframework.security.web.session.SessionManagementFilter@ddb59b6, org.springframework.security.web.access.ExceptionTranslationFilter@308bd473, org.springframework.security.web.access.intercept.AuthorizationFilter@13437ce5]] (1/1)
2024-10-25T00:13:26.567+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /auth/refresh
2024-10-25T00:13:26.567+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:13:26.567+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:13:26.567+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:13:26.567+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:13:26.567+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:13:26.567+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:13:26.568+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:13:26.569+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:13:26.569+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /auth/refresh
2024-10-25T00:13:26.569+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012bada620@5ef1eec5
2024-10-25T00:13:26.569+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /auth/refresh
2024-10-25T00:13:26.571+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:13:26.571+07:00  WARN 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2024-10-25T00:13:26.575+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2189952f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c18e0aa, org.springframework.security.web.context.SecurityContextHolderFilter@24b9c037, org.springframework.security.web.header.HeaderWriterFilter@2114955c, org.springframework.web.filter.CorsFilter@3226e663, org.springframework.security.web.authentication.logout.LogoutFilter@74f446ba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3af8f1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e950ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f6d2847, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2397ccd, org.springframework.security.web.session.SessionManagementFilter@ddb59b6, org.springframework.security.web.access.ExceptionTranslationFilter@308bd473, org.springframework.security.web.access.intercept.AuthorizationFilter@13437ce5]] (1/1)
2024-10-25T00:13:26.575+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:13:26.576+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:13:26.577+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:13:26.577+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-10-25T00:13:26.577+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@356bc39f
2024-10-25T00:13:26.577+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:13:26.577+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:13:26.577+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-25T00:17:14.257+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2189952f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c18e0aa, org.springframework.security.web.context.SecurityContextHolderFilter@24b9c037, org.springframework.security.web.header.HeaderWriterFilter@2114955c, org.springframework.web.filter.CorsFilter@3226e663, org.springframework.security.web.authentication.logout.LogoutFilter@74f446ba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3af8f1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e950ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f6d2847, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2397ccd, org.springframework.security.web.session.SessionManagementFilter@ddb59b6, org.springframework.security.web.access.ExceptionTranslationFilter@308bd473, org.springframework.security.web.access.intercept.AuthorizationFilter@13437ce5]] (1/1)
2024-10-25T00:17:14.257+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /auth/refresh
2024-10-25T00:17:14.257+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:17:14.257+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:17:14.258+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:17:14.259+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:17:14.259+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:17:14.259+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:17:14.259+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /auth/refresh
2024-10-25T00:17:14.259+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /auth/refresh using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000000012bada620@5ef1eec5
2024-10-25T00:17:14.259+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /auth/refresh
2024-10-25T00:17:14.313+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:17:26.745+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2189952f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c18e0aa, org.springframework.security.web.context.SecurityContextHolderFilter@24b9c037, org.springframework.security.web.header.HeaderWriterFilter@2114955c, org.springframework.web.filter.CorsFilter@3226e663, org.springframework.security.web.authentication.logout.LogoutFilter@74f446ba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3af8f1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e950ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f6d2847, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2397ccd, org.springframework.security.web.session.SessionManagementFilter@ddb59b6, org.springframework.security.web.access.ExceptionTranslationFilter@308bd473, org.springframework.security.web.access.intercept.AuthorizationFilter@13437ce5]] (1/1)
2024-10-25T00:17:26.760+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-25T00:17:26.761+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:17:26.780+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:17:26.780+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:17:26.780+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:17:26.781+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:17:26.781+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:17:26.781+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:17:26.781+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:17:26.782+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-25T00:17:26.789+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-25T00:17:26.789+07:00 ERROR 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

com.example.invoiceProject.Exception.AppException: Unauthenticated
	at com.example.invoiceProject.Service.JwtService.JwtService.verifyToken(JwtService.java:98) ~[classes/:na]
	at com.example.invoiceProject.Service.AuthenticateService.introspect(AuthenticateService.java:41) ~[classes/:na]
	at com.example.invoiceProject.Config.CustomJwtDecoder.decode(CustomJwtDecoder.java:35) ~[classes/:na]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.1.jar:6.3.1]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2189952f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c18e0aa, org.springframework.security.web.context.SecurityContextHolderFilter@24b9c037, org.springframework.security.web.header.HeaderWriterFilter@2114955c, org.springframework.web.filter.CorsFilter@3226e663, org.springframework.security.web.authentication.logout.LogoutFilter@74f446ba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3af8f1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e950ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f6d2847, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2397ccd, org.springframework.security.web.session.SessionManagementFilter@ddb59b6, org.springframework.security.web.access.ExceptionTranslationFilter@308bd473, org.springframework.security.web.access.intercept.AuthorizationFilter@13437ce5]] (1/1)
2024-10-25T00:17:26.791+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:17:26.791+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2024-10-25T00:17:26.792+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@356bc39f
2024-10-25T00:17:26.793+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.1.jar:6.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.11.jar:6.1.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.1.11.jar:6.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:308) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.26.jar:10.1.26]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2024-10-25T00:17:38.851+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2189952f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c18e0aa, org.springframework.security.web.context.SecurityContextHolderFilter@24b9c037, org.springframework.security.web.header.HeaderWriterFilter@2114955c, org.springframework.web.filter.CorsFilter@3226e663, org.springframework.security.web.authentication.logout.LogoutFilter@74f446ba, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3af8f1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e950ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f6d2847, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2397ccd, org.springframework.security.web.session.SessionManagementFilter@ddb59b6, org.springframework.security.web.access.ExceptionTranslationFilter@308bd473, org.springframework.security.web.access.intercept.AuthorizationFilter@13437ce5]] (1/1)
2024-10-25T00:17:38.852+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users
2024-10-25T00:17:38.852+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2024-10-25T00:17:38.852+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-10-25T00:17:38.852+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2024-10-25T00:17:38.852+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2024-10-25T00:17:38.852+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2024-10-25T00:17:38.852+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2024-10-25T00:17:38.852+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-25T00:17:38.852+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2024-10-25T00:17:38.853+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)
2024-10-25T00:17:38.859+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2024-10-25T00:17:38.859+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-10-25T00:17:38.859+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@195bad8d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@195bad8d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, USER]]
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/users
2024-10-25T00:17:38.860+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/users using org.springframework.security.authorization.AuthenticatedAuthorizationManager@356bc39f
2024-10-25T00:17:38.861+07:00 DEBUG 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users
2024-10-25T00:17:38.862+07:00  INFO 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : UserName :  admin@gmail.com
2024-10-25T00:17:38.862+07:00  INFO 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : ADMIN
2024-10-25T00:17:38.862+07:00  INFO 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] c.e.i.Controller.UserController          : USER
2024-10-25T00:17:38.883+07:00 TRACE 10605 --- [InvoiceManagement] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
